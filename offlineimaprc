[general]
accounts = northernbloc, disqus
#ui = quiet
ui = ttyui
maxsyncaccounts = 2

[Account northernbloc]
localrepository = northernbloc_local
remoterepository = northernbloc_remote
status_backend = sqlite
autorefresh = 1

[Repository northernbloc_local]
type = Maildir
localfolders = ~/.mail/northernbloc

[Repository northernbloc_remote]
type = IMAP
remotehost = mail.northernbloc.org
remoteuser = cole@northernbloc.org
maxconnections = 1
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt

[Account disqus]
localrepository = disqus_local
remoterepository = disqus_remote
status_backend = sqlite
autorefresh = 1

[Repository disqus_local]
type = Maildir
localfolders = ~/.mail/disqus
nametrans = lambda folder: re.sub(r'^Sent$', '[Gmail]/Sent Mail', re.sub(r'^Drafts$', '[Gmail]/Drafts', folder))

[Repository disqus_remote]
type = IMAP
remotehost = imap.gmail.com
remoteuser = cole@disqus.com
maxconnections = 1
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
nametrans = lambda folder: re.sub(r'^\[Gmail\]\/Sent Mail$', 'Sent', re.sub(r'^\[Gmail\]\/Drafts$', 'Drafts', folder))
folderfilter = lambda foldername: foldername not in set(['[Gmail]/All Mail', '[Gmail]/Important', '[Gmail]/Spam', '[Gmail]/Starred', '[Gmail]/Trash'])

[mbnames]
enabled = Yes
filename = ~/.mutt/mailboxes
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"
